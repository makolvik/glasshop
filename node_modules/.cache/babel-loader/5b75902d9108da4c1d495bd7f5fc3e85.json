{"ast":null,"code":"import React, { useState } from \"react\";\nexport const ContextApp = React.createContext();\nexport const initialState = {\n  cart: [],\n  total: 135,\n  order: [],\n  itemState: [{\n    title: \"FIRE MIRROR COLORBOOST  POLARIZED SMOKE LENS\",\n    price: 450,\n    art: 125,\n    prevprice: 500,\n    comments: [{\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Baswerwerwerlan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Bawrwerwerlan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Bawerwerlan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Bafggfhfghlan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Bafghfghlan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Balan0\",\n      title: \"Rocks\",\n      rating: 4,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }, {\n      date: \"22/10 /2020\",\n      author: \"Dan Baghjghkghjkslan0\",\n      title: \"Rocks\",\n      rating: 2,\n      text: \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"\n    }],\n    id: 21322,\n    itemrating: {\n      total: 43,\n      rating: 4\n    }\n  }]\n};\nexport const cartReducer = (state, action) => {\n  switch (action.type) {\n    case \"add_item\":\n      const newitem = { ...action.payload,\n        quant: 1,\n        total: action.payload.price\n      };\n      const currart = newitem.art;\n      console.log(currart);\n      const index = state.cart.findIndex(x => x.art === currart);\n\n      if (index < 0) {\n        return { ...state,\n          cart: [...state.cart, newitem],\n          total: state.total + newitem.price\n        };\n      } else {\n        state.cart[index].quant = state.cart[index].quant + 1;\n        state.cart[index].total = state.cart[index].total + state.cart[index].price;\n        state.total = state.total + state.cart[index].price;\n        return { ...state\n        };\n      }\n\n    case \"add_quant_test\":\n      const idadd = Number(action.payload);\n      const indexItemAdd = state.cart.findIndex(item => item.id === idadd);\n      state.cart[indexItemAdd].quant = state.cart[indexItemAdd].quant + 1;\n      state.cart[indexItemAdd].total = state.cart[indexItemAdd].total + state.cart[indexItemAdd].price;\n      state.total = state.total + state.cart[indexItemAdd].price;\n      console.log(state, \"addquant\");\n      return { ...state\n      };\n\n    case \"minus_quant_test\":\n      const idminus = Number(action.payload);\n      const indexItem = state.cart.findIndex(item => item.id === idminus);\n      console.log(indexItem);\n      state.cart[indexItem].quant = state.cart[indexItem].quant - 1;\n      state.cart[indexItem].total = state.cart[indexItem].total - state.cart[indexItem].price;\n      state.total = state.total - state.cart[indexItem].price;\n\n      if (state.cart[indexItem].quant <= 0) {\n        state.cart = state.cart.filter(item => item.id !== idminus);\n        return { ...state\n        };\n      } else {\n        console.log(\"bigger\");\n        return { ...state\n        };\n      }\n\n    case \"send_order\":\n      const neworder = {\n        num: 1223,\n        customer: \"oleg\",\n        items: state.cart,\n        total: state.total\n      };\n      return { ...state,\n        cart: [],\n        total: 0,\n        order: [...state.order, neworder]\n      };\n\n    case \"add_comments\":\n      console.log(\"ssdd\", action.payload);\n      return { ...state,\n        itemState: [{ ...state.itemState[0],\n          comments: [...state.itemState[0].comments, action.payload]\n        }]\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Users/LH/Desktop/projects/reactApp/meteorproject/src/context/reducer.js"],"names":["React","useState","ContextApp","createContext","initialState","cart","total","order","itemState","title","price","art","prevprice","comments","date","author","rating","text","id","itemrating","cartReducer","state","action","type","newitem","payload","quant","currart","console","log","index","findIndex","x","idadd","Number","indexItemAdd","item","idminus","indexItem","filter","neworder","num","customer","items"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAO,MAAMC,UAAU,GAAGF,KAAK,CAACG,aAAN,EAAnB;AAEP,OAAO,MAAMC,YAAY,GAAG;AAC1BC,EAAAA,IAAI,EAAE,EADoB;AAE1BC,EAAAA,KAAK,EAAE,GAFmB;AAG1BC,EAAAA,KAAK,EAAE,EAHmB;AAI1BC,EAAAA,SAAS,EAAE,CACT;AACEC,IAAAA,KAAK,EAAE,8CADT;AAEEC,IAAAA,KAAK,EAAE,GAFT;AAGEC,IAAAA,GAAG,EAAE,GAHP;AAIEC,IAAAA,SAAS,EAAE,GAJb;AAKEC,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KADQ,EASR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KATQ,EAiBR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,sBAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjBQ,EAyBR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,oBAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzBQ,EAiCR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjCQ,EAyCR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzCQ,EAiDR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjDQ,EAyDR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,kBAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzDQ,EAiER;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjEQ,EAyER;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzEQ,EAiFR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,oBAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjFQ,EAyFR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzFQ,EAiGR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,kBAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjGQ,EAyGR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzGQ,EAiHR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,YAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAjHQ,EAyHR;AACEH,MAAAA,IAAI,EAAE,aADR;AAEEC,MAAAA,MAAM,EAAE,uBAFV;AAGEN,MAAAA,KAAK,EAAE,OAHT;AAIEO,MAAAA,MAAM,EAAE,CAJV;AAKEC,MAAAA,IAAI,EACF;AANJ,KAzHQ,CALZ;AAuIEC,IAAAA,EAAE,EAAE,KAvIN;AAwIEC,IAAAA,UAAU,EAAE;AACVb,MAAAA,KAAK,EAAE,EADG;AAEVU,MAAAA,MAAM,EAAE;AAFE;AAxId,GADS;AAJe,CAArB;AAqJP,OAAO,MAAMI,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,UAAL;AACE,YAAMC,OAAO,GAAG,EACd,GAAGF,MAAM,CAACG,OADI;AAEdC,QAAAA,KAAK,EAAE,CAFO;AAGdpB,QAAAA,KAAK,EAAEgB,MAAM,CAACG,OAAP,CAAef;AAHR,OAAhB;AAMA,YAAMiB,OAAO,GAAGH,OAAO,CAACb,GAAxB;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,YAAMG,KAAK,GAAGT,KAAK,CAAChB,IAAN,CAAW0B,SAAX,CAAsBC,CAAD,IAAOA,CAAC,CAACrB,GAAF,KAAUgB,OAAtC,CAAd;;AACA,UAAIG,KAAK,GAAG,CAAZ,EAAe;AACb,eAAO,EACL,GAAGT,KADE;AAELhB,UAAAA,IAAI,EAAE,CAAC,GAAGgB,KAAK,CAAChB,IAAV,EAAgBmB,OAAhB,CAFD;AAGLlB,UAAAA,KAAK,EAAEe,KAAK,CAACf,KAAN,GAAckB,OAAO,CAACd;AAHxB,SAAP;AAKD,OAND,MAMO;AACLW,QAAAA,KAAK,CAAChB,IAAN,CAAWyB,KAAX,EAAkBJ,KAAlB,GAA0BL,KAAK,CAAChB,IAAN,CAAWyB,KAAX,EAAkBJ,KAAlB,GAA0B,CAApD;AACAL,QAAAA,KAAK,CAAChB,IAAN,CAAWyB,KAAX,EAAkBxB,KAAlB,GACEe,KAAK,CAAChB,IAAN,CAAWyB,KAAX,EAAkBxB,KAAlB,GAA0Be,KAAK,CAAChB,IAAN,CAAWyB,KAAX,EAAkBpB,KAD9C;AAEAW,QAAAA,KAAK,CAACf,KAAN,GAAce,KAAK,CAACf,KAAN,GAAce,KAAK,CAAChB,IAAN,CAAWyB,KAAX,EAAkBpB,KAA9C;AACA,eAAO,EACL,GAAGW;AADE,SAAP;AAGD;;AAEH,SAAK,gBAAL;AACE,YAAMY,KAAK,GAAGC,MAAM,CAACZ,MAAM,CAACG,OAAR,CAApB;AACA,YAAMU,YAAY,GAAGd,KAAK,CAAChB,IAAN,CAAW0B,SAAX,CAAsBK,IAAD,IAAUA,IAAI,CAAClB,EAAL,KAAYe,KAA3C,CAArB;AACAZ,MAAAA,KAAK,CAAChB,IAAN,CAAW8B,YAAX,EAAyBT,KAAzB,GAAiCL,KAAK,CAAChB,IAAN,CAAW8B,YAAX,EAAyBT,KAAzB,GAAiC,CAAlE;AACAL,MAAAA,KAAK,CAAChB,IAAN,CAAW8B,YAAX,EAAyB7B,KAAzB,GACEe,KAAK,CAAChB,IAAN,CAAW8B,YAAX,EAAyB7B,KAAzB,GAAiCe,KAAK,CAAChB,IAAN,CAAW8B,YAAX,EAAyBzB,KAD5D;AAEAW,MAAAA,KAAK,CAACf,KAAN,GAAce,KAAK,CAACf,KAAN,GAAce,KAAK,CAAChB,IAAN,CAAW8B,YAAX,EAAyBzB,KAArD;AACAkB,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ,EAAmB,UAAnB;AAEA,aAAO,EACL,GAAGA;AADE,OAAP;;AAIF,SAAK,kBAAL;AACE,YAAMgB,OAAO,GAAGH,MAAM,CAACZ,MAAM,CAACG,OAAR,CAAtB;AACA,YAAMa,SAAS,GAAGjB,KAAK,CAAChB,IAAN,CAAW0B,SAAX,CAAsBK,IAAD,IAAUA,IAAI,CAAClB,EAAL,KAAYmB,OAA3C,CAAlB;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYS,SAAZ;AACAjB,MAAAA,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsBZ,KAAtB,GAA8BL,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsBZ,KAAtB,GAA8B,CAA5D;AACAL,MAAAA,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsBhC,KAAtB,GACEe,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsBhC,KAAtB,GAA8Be,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsB5B,KADtD;AAEAW,MAAAA,KAAK,CAACf,KAAN,GAAce,KAAK,CAACf,KAAN,GAAce,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsB5B,KAAlD;;AACA,UAAIW,KAAK,CAAChB,IAAN,CAAWiC,SAAX,EAAsBZ,KAAtB,IAA+B,CAAnC,EAAsC;AACpCL,QAAAA,KAAK,CAAChB,IAAN,GAAagB,KAAK,CAAChB,IAAN,CAAWkC,MAAX,CAAmBH,IAAD,IAAUA,IAAI,CAAClB,EAAL,KAAYmB,OAAxC,CAAb;AAEA,eAAO,EAAE,GAAGhB;AAAL,SAAP;AACD,OAJD,MAIO;AACLO,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,eAAO,EACL,GAAGR;AADE,SAAP;AAGD;;AAEH,SAAK,YAAL;AACE,YAAMmB,QAAQ,GAAG;AACfC,QAAAA,GAAG,EAAE,IADU;AAEfC,QAAAA,QAAQ,EAAE,MAFK;AAGfC,QAAAA,KAAK,EAAEtB,KAAK,CAAChB,IAHE;AAIfC,QAAAA,KAAK,EAAEe,KAAK,CAACf;AAJE,OAAjB;AAOA,aAAO,EACL,GAAGe,KADE;AAELhB,QAAAA,IAAI,EAAE,EAFD;AAGLC,QAAAA,KAAK,EAAE,CAHF;AAILC,QAAAA,KAAK,EAAE,CAAC,GAAGc,KAAK,CAACd,KAAV,EAAiBiC,QAAjB;AAJF,OAAP;;AAMF,SAAK,cAAL;AACEZ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBP,MAAM,CAACG,OAA3B;AACA,aAAO,EACL,GAAGJ,KADE;AAELb,QAAAA,SAAS,EAAE,CACT,EACE,GAAGa,KAAK,CAACb,SAAN,CAAgB,CAAhB,CADL;AAEEK,UAAAA,QAAQ,EAAE,CAAC,GAAGQ,KAAK,CAACb,SAAN,CAAgB,CAAhB,EAAmBK,QAAvB,EAAiCS,MAAM,CAACG,OAAxC;AAFZ,SADS;AAFN,OAAP;;AAUF;AACE,aAAOJ,KAAP;AAtFJ;AAwFD,CAzFM","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport const ContextApp = React.createContext();\r\n\r\nexport const initialState = {\r\n  cart: [],\r\n  total: 135,\r\n  order: [],\r\n  itemState: [\r\n    {\r\n      title: \"FIRE MIRROR COLORBOOST  POLARIZED SMOKE LENS\",\r\n      price: 450,\r\n      art: 125,\r\n      prevprice: 500,\r\n      comments: [\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Baswerwerwerlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bawrwerwerlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bawerwerlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bafggfhfghlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bafghfghlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Baghjghkghjkslan0\",\r\n          title: \"Rocks\",\r\n          rating: 2,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n      ],\r\n      id: 21322,\r\n      itemrating: {\r\n        total: 43,\r\n        rating: 4,\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\nexport const cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"add_item\":\r\n      const newitem = {\r\n        ...action.payload,\r\n        quant: 1,\r\n        total: action.payload.price,\r\n      };\r\n\r\n      const currart = newitem.art;\r\n      console.log(currart);\r\n      const index = state.cart.findIndex((x) => x.art === currart);\r\n      if (index < 0) {\r\n        return {\r\n          ...state,\r\n          cart: [...state.cart, newitem],\r\n          total: state.total + newitem.price,\r\n        };\r\n      } else {\r\n        state.cart[index].quant = state.cart[index].quant + 1;\r\n        state.cart[index].total =\r\n          state.cart[index].total + state.cart[index].price;\r\n        state.total = state.total + state.cart[index].price;\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n\r\n    case \"add_quant_test\":\r\n      const idadd = Number(action.payload);\r\n      const indexItemAdd = state.cart.findIndex((item) => item.id === idadd);\r\n      state.cart[indexItemAdd].quant = state.cart[indexItemAdd].quant + 1;\r\n      state.cart[indexItemAdd].total =\r\n        state.cart[indexItemAdd].total + state.cart[indexItemAdd].price;\r\n      state.total = state.total + state.cart[indexItemAdd].price;\r\n      console.log(state, \"addquant\");\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case \"minus_quant_test\":\r\n      const idminus = Number(action.payload);\r\n      const indexItem = state.cart.findIndex((item) => item.id === idminus);\r\n      console.log(indexItem);\r\n      state.cart[indexItem].quant = state.cart[indexItem].quant - 1;\r\n      state.cart[indexItem].total =\r\n        state.cart[indexItem].total - state.cart[indexItem].price;\r\n      state.total = state.total - state.cart[indexItem].price;\r\n      if (state.cart[indexItem].quant <= 0) {\r\n        state.cart = state.cart.filter((item) => item.id !== idminus);\r\n\r\n        return { ...state };\r\n      } else {\r\n        console.log(\"bigger\");\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n\r\n    case \"send_order\":\r\n      const neworder = {\r\n        num: 1223,\r\n        customer: \"oleg\",\r\n        items: state.cart,\r\n        total: state.total,\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        cart: [],\r\n        total: 0,\r\n        order: [...state.order, neworder],\r\n      };\r\n    case \"add_comments\":\r\n      console.log(\"ssdd\", action.payload);\r\n      return {\r\n        ...state,\r\n        itemState: [\r\n          {\r\n            ...state.itemState[0],\r\n            comments: [...state.itemState[0].comments, action.payload],\r\n          },\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}