{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\LH\\\\Desktop\\\\projects\\\\reactApp\\\\meteorproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\LH\\\\Desktop\\\\projects\\\\reactApp\\\\meteorproject\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useState}from\"react\";export var ContextApp=React.createContext();export var initialState={cart:[],total:0,order:[],itemState:[{title:\"FIRE MIRROR COLORBOOST  POLARIZED SMOKE LENS\",price:450,art:125,prevprice:500,comments:[{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Baswerwerwerlan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Bawrwerwerlan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Bawerwerlan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Bafggfhfghlan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Bafghfghlan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Balan0\",title:\"Rocks\",rating:4,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"},{date:\"22/10 /2020\",author:\"Dan Baghjghkghjkslan0\",title:\"Rocks\",rating:2,text:\"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\"}],id:21322,itemrating:{total:43,rating:4}}]};export var cartReducer=function cartReducer(state,action){switch(action.type){case\"add_item\":var newitem=_objectSpread(_objectSpread({},action.payload),{},{quant:1,total:action.payload.price});var currart=newitem.art;console.log(currart);var index=state.cart.findIndex(function(x){return x.art===currart;});if(index<0){return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[newitem]),total:state.total+newitem.price});}else{state.cart[index].quant=state.cart[index].quant+1;state.cart[index].total=state.cart[index].total+state.cart[index].price;state.total=state.total+state.cart[index].price;return _objectSpread({},state);}case\"add_quant_test\":var idadd=Number(action.payload);var indexItemAdd=state.cart.findIndex(function(item){return item.id===idadd;});state.cart[indexItemAdd].quant=state.cart[indexItemAdd].quant+1;state.cart[indexItemAdd].total=state.cart[indexItemAdd].total+state.cart[indexItemAdd].price;state.total=state.total+state.cart[indexItemAdd].price;console.log(state,\"addquant\");return _objectSpread({},state);case\"minus_quant_test\":var idminus=Number(action.payload);var indexItem=state.cart.findIndex(function(item){return item.id===idminus;});console.log(indexItem);state.cart[indexItem].quant=state.cart[indexItem].quant-1;state.cart[indexItem].total=state.cart[indexItem].total-state.cart[indexItem].price;state.total=state.total-state.cart[indexItem].price;if(state.cart[indexItem].quant<=0){state.cart=state.cart.filter(function(item){return item.id!==idminus;});return _objectSpread({},state);}else{console.log(\"bigger\");return _objectSpread({},state);}case\"send_order\":var neworder={num:1223,customer:\"oleg\",items:state.cart,total:state.total};return _objectSpread(_objectSpread({},state),{},{cart:[],total:0,order:[].concat(_toConsumableArray(state.order),[neworder])});case\"add_comments\":console.log(\"ssdd\",action.payload);return _objectSpread(_objectSpread({},state),{},{itemState:[_objectSpread(_objectSpread({},state.itemState[0]),{},{comments:[].concat(_toConsumableArray(state.itemState[0].comments),[action.payload])})]});default:return state;}};","map":{"version":3,"sources":["C:/Users/LH/Desktop/projects/reactApp/meteorproject/src/context/reducer.js"],"names":["React","useState","ContextApp","createContext","initialState","cart","total","order","itemState","title","price","art","prevprice","comments","date","author","rating","text","id","itemrating","cartReducer","state","action","type","newitem","payload","quant","currart","console","log","index","findIndex","x","idadd","Number","indexItemAdd","item","idminus","indexItem","filter","neworder","num","customer","items"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport const ContextApp = React.createContext();\r\n\r\nexport const initialState = {\r\n  cart: [],\r\n  total: 0,\r\n  order: [],\r\n  itemState: [\r\n    {\r\n      title: \"FIRE MIRROR COLORBOOST  POLARIZED SMOKE LENS\",\r\n      price: 450,\r\n      art: 125,\r\n      prevprice: 500,\r\n      comments: [\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Baswerwerwerlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bawrwerwerlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bawerwerlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bafggfhfghlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Bafghfghlan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Balan0\",\r\n          title: \"Rocks\",\r\n          rating: 4,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n        {\r\n          date: \"22/10 /2020\",\r\n          author: \"Dan Baghjghkghjkslan0\",\r\n          title: \"Rocks\",\r\n          rating: 2,\r\n          text:\r\n            \"Once I got the legend pro on my hand The glasses feel sturdy and look good. Don't know how well the scratch resistance is yet, but they provided you a lifetime warranty so I'm not too worry about it.\",\r\n        },\r\n      ],\r\n      id: 21322,\r\n      itemrating: {\r\n        total: 43,\r\n        rating: 4,\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\nexport const cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"add_item\":\r\n      const newitem = {\r\n        ...action.payload,\r\n        quant: 1,\r\n        total: action.payload.price,\r\n      };\r\n\r\n      const currart = newitem.art;\r\n      console.log(currart);\r\n      const index = state.cart.findIndex((x) => x.art === currart);\r\n      if (index < 0) {\r\n        return {\r\n          ...state,\r\n          cart: [...state.cart, newitem],\r\n          total: state.total + newitem.price,\r\n        };\r\n      } else {\r\n        state.cart[index].quant = state.cart[index].quant + 1;\r\n        state.cart[index].total =\r\n          state.cart[index].total + state.cart[index].price;\r\n        state.total = state.total + state.cart[index].price;\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n\r\n    case \"add_quant_test\":\r\n      const idadd = Number(action.payload);\r\n      const indexItemAdd = state.cart.findIndex((item) => item.id === idadd);\r\n      state.cart[indexItemAdd].quant = state.cart[indexItemAdd].quant + 1;\r\n      state.cart[indexItemAdd].total =\r\n        state.cart[indexItemAdd].total + state.cart[indexItemAdd].price;\r\n      state.total = state.total + state.cart[indexItemAdd].price;\r\n      console.log(state, \"addquant\");\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    case \"minus_quant_test\":\r\n      const idminus = Number(action.payload);\r\n      const indexItem = state.cart.findIndex((item) => item.id === idminus);\r\n      console.log(indexItem);\r\n      state.cart[indexItem].quant = state.cart[indexItem].quant - 1;\r\n      state.cart[indexItem].total =\r\n        state.cart[indexItem].total - state.cart[indexItem].price;\r\n      state.total = state.total - state.cart[indexItem].price;\r\n      if (state.cart[indexItem].quant <= 0) {\r\n        state.cart = state.cart.filter((item) => item.id !== idminus);\r\n\r\n        return { ...state };\r\n      } else {\r\n        console.log(\"bigger\");\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n\r\n    case \"send_order\":\r\n      const neworder = {\r\n        num: 1223,\r\n        customer: \"oleg\",\r\n        items: state.cart,\r\n        total: state.total,\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        cart: [],\r\n        total: 0,\r\n        order: [...state.order, neworder],\r\n      };\r\n    case \"add_comments\":\r\n      console.log(\"ssdd\", action.payload);\r\n      return {\r\n        ...state,\r\n        itemState: [\r\n          {\r\n            ...state.itemState[0],\r\n            comments: [...state.itemState[0].comments, action.payload],\r\n          },\r\n        ],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}